# dqw-wasm

wasm(WebAssembly)により、ドラクエウォークのモンスターのアイテムの組み合わせを計算するプロジェクトです。

「こころ」の組み合わせ

https://usop4.github.io/dqw-wasm/pkg/index.html

「そうび」の組み合わせ

https://usop4.github.io/dqw-wasm/pkg/arms.html


# 使い方

## 「こころ」の組み合わせ

画面上で各パラメータを入力し「計算」ボタンを押すと全てのこころの組み合わせを計算した結果を表示します。（以前は自動更新でしたが計算量が増えたため「計算」ボタンを押す仕様に変更しました）

どの項目を優先するかはラジオボタンで選択できます。

計算対象とするモンスターは画面下の「元データを編集」ボタンを押して編集することができます。なお保存機能はありませんので別途、パソコン上に保存してください。

## 「そうび」の組み合わせ

画面上で各パラメータを入力すると、選択した条件で最も効果が高い武器がひとつ表示されます。選択した条件で効果がプラスされる武器がない場合（例えば画面上で「ヒャド耐性」を選択していて「ヒャド属性耐性+10%」のような特殊効果がある防具を持っていないなど）は空欄となります。

## ローカル環境で起動する場合

MacOSもしくはLinuxであれば展開したファイルのpkgディレクトリに移動し

`python3 -m http.server`

でHTTPサーバを起動してアクセスしてください。github pagesと同じような画面が表示されたら成功です。筆者はWindows10のWSL2で動作するUbuntu20.04で動作確認しています。

monster.csvを編集しても反映されない場合はブラウザでキャッシュされている可能性があります。Chromeであれば右クリックで「検証」を選択して開発者ツールを起動している状態で更新ボタンを右クリックして「キャッシュをクリアしてハードリフレッシュ」を選択してみてください。

またmonster.csvで項目数が足りない場合などは画面が表示されず、コンソール上に「vue.min.js:6 RuntimeError: unreachable」などのエラーが出ます。この場合はCSVファイルのフォーマット等を確認してください。なお筆者はVisual Studio CodeのRainbow CSVというエクステンションを使って確認しています。
